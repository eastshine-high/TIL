# Encoding & Decoding & Unicode

컴퓨터는 숫자밖에 모르기 때문에 문자는 숫자로 변환되어 저장된다.

<br>

### Encoding

문자를 코드(숫자)로 변환하는 것을 encoding이라 한다.

<br>

### Decoding

반대로 코드(숫자)를 문자로 변환하는 것을 decoding이라 한다.

그러면 도대체 어떤 기준으로 숫자와 문자를 변환하는 것일까?

바로 아래의 표에 의한 것인데 이 코드표는 유니코드(unicode)이다.

![https://i.stack.imgur.com/61WTm.png](https://i.stack.imgur.com/61WTm.png)

위의 그림에서 문자 'A'의 유니코드가 65인 것을 알 수 있다. 그래서 문자 'A'를 아스키코드로 인코딩하면 65가 되는 것이다. 반대로 숫자 65를 유니코드로 디코딩 하면 문자 'A'가 된다.

어떻게 인코딩을 했는지를 알아야 디코딩이 가능하다. 만일 인코딩에 사용된 코드표와 디코딩에 사용된 코드표가 다르면 엉뚱한 글자들로 바뀌어 나타날 것이다. 웹서핑을 하다가 페이지 전체가 알아볼 수 없는 이상한 글자들로 가득 찬 경험이 적어도 한두 번쯤은 있을 텐데, 그 이유는 해당 HTML문서의 인코딩에 사용된 코드표와 웹브라우저의 설정이 맞지 않아서이다.

<br>

### 아스키(ASCII)

ASCII는 'Amerian Standard Code for Information Interchange'의 약어로 정보교환을 위한 미국 표준 코드란 뜻이다. 아스키는 128개(=$2^7$)의 문자 집합(character set)을 제공하는 7 bit부호로, 처음 32개의 문자는 인쇄와 전송 제어용으로 사용되는 제어문자(control character)로 출력할 수 없고 마지막 문자(DEL)을 제외한 33번째 이후의 문자들은 출력할 수 있는 문자들로, 기호와 숫자, 영대소문자로 이루어져 있다.

아스키는 숫자 '0~9', 영문자'A~Z'와 'a~z'가 연속적으로 배치되어 있다는 특징이 있으며, 이러한 특징은 프로그래밍에서 유용하게 활용된다.

<br>

### 유니코드(Unicode)

예전엔 같은 지역 내에서만 문서교환이 주를 이뤗지만, 인터넷이 발명되면서 서로 다른 지역의 다른 언어를 사용하는 컴퓨터간의 문서교환이 활발해지기 시작하자 서로 다른 문자 인코딩을 사용하는 컴퓨터간의 문서교환에 어려움을 겪게 되었다. 이러한 어려움을 해소하고자 전 세계의 모든 문자를 하나의 통일된 문자집합으로 표현하고자 노력하였고 그 결과가 바로 유니코드다.

유니코드는 처음엔 모든 문자를 2byte(=2^16 = 65536)로 표현하려했으나, 2 byte(=16bit)로도 부족해서 21bit(약 200만 문자)로 확장되었다. 새로 추가된 문자들을 보충 문자(supplementary character)라고 하는데 이 문자들을 표현하기 위해서는 char타입이 아닌 int타입을 사용해야 한다. 우리가 보충문자를 쓸 일은 거의 업기 때문에 참고로만 알아두면 된다.

유니코드는 먼저 유니코드에 포함시키고자 하는 문자들의 집합을 정의하였는데, 이것을 유니코드 문자 셋(또는 캐릭터 셋, character set)이라고 한다. 그리고 이 문자 셋에 번호를 붙인 것이 유니코드 인코딩이다. 유니코드 인코딩에는 UTF-8, UTF-16, UTF-32 등 여러 가지 종류가 있는데, 자바에서는 UTF-16을 사용한다. URF-16은 모든 문자를 2byte의 고정크기로 표현하고 UTF-8은 하나의 문자를 1~4 byte의 가변크기로 표현한다. 그리고 두 인코딩 모두 처음 128문자가 아스키와 동일하다. 아스키를 그대로 포함하고 있는 것이다.

모든 문자의 크기가 동일한 UTF-16이 문자를 다루기는 편리하지만, 1 byte로 표현할 수 있는 영어와 숫자가 2byte로 표현되므로 문서의 크기가 커진다는 단점이 있다. UTF08에서 영문과 숫자는 1byte 그리고 한글은 3byte로 표현되기 때문에 문서의 크기가 작지만 문자의 크기가 가변적이므로 다루기 어렵다는 단점이 있다. 인터넷에서는 전송속도가 중요하므로, 문서의 크기가 작을수록 유리하다. 그래서 UTF-8인코딩으로 작성된 웹문서의 수가 빠르게 늘고 있다.

<br>

---

### Reference

Java의 정석, 도우출판, 남궁성